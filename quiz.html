<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>What Kind of Birthday Cake Are You? ðŸŽ‚</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: linear-gradient(to bottom, #fff0f6, #ffeaf4);
      text-align: center;
      padding: 20px;
      color: #333;
    }
    h1 { color: #e91e63; }
    .card {
      background: #fff;
      border-radius: 18px;
      max-width: 700px;
      margin: 20px auto;
      padding: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,.08);
      border: 1px solid #ffe1ef;
    }
    .progress {
      margin: 10px 0 18px;
      text-align: left;
      font-size: 0.8rem;
      color: #777;
    }
    .bar {
      height: 8px;
      background: #f3f3f3;
      border-radius: 999px;
      overflow: hidden;
    }
    .bar > div {
      height: 8px;
      background: #e91e63;
      width: 0%;
      transition: width .25s ease;
    }
    .question {
      font-weight: bold;
      margin: 12px 0;
      font-size: 1.1rem;
    }
    .btn {
      display: block;
      width: 100%;
      margin: 8px 0;
      padding: 12px;
      border: 1px solid #ffd0e2;
      border-radius: 12px;
      background: #fff;
      text-align: left;
      cursor: pointer;
    }
    .btn:hover { background: #fff6fa; }
    .result {
      padding: 20px;
      border-radius: 18px;
      background: #fffafc;
    }
    .result h2 { margin: 0 0 10px; }
    .actions { margin-top: 12px; }
    .pill {
      padding: 10px 14px;
      border-radius: 999px;
      border: none;
      margin: 5px;
      cursor: pointer;
    }
    .primary { background: #e91e63; color: #fff; }
  </style>
</head>
<body>
  <h1>ðŸŽ‚ What Kind of Birthday Cake Are You?</h1>
  <p>A quirky roommate-coded birthday quiz ðŸ’–</p>

  <div class="card" id="app"></div>

  <script>
    // Secret MBTI mapping:
    // Milk & Honey = ISFJ
    // Funfetti = ENFP
    // Strawberry Shortcake = ENFJ
    // Molten Lava Cake = ISTP
    // Velvet Layer Cake = ENTJ

    const RESULTS = {
      MILKHONEY: {
        title: "ðŸ¥› Milk & Honey Cake",
        text: "Gentle, dependable, and cozy. Youâ€™re the comforting slice that keeps things grounded and makes sure everyone feels cared for."
      },
      FUNFETTI: {
        title: "ðŸŒˆ Funfetti Sprinkle Cake",
        text: "Playful, chaotic, and full of charm. You light up every room with your colorful energy and spontaneous vibes."
      },
      STRAWBERRY: {
        title: "ðŸ“ Strawberry Shortcake",
        text: "Sweet, radiant, and magnetic. You bring people together, hype them up, and make every gathering feel special."
      },
      LAVA: {
        title: "ðŸŒ‹ Molten Lava Cake",
        text: "Cool on the outside, but once people know you, thereâ€™s fire and depth. You thrive on adventure and surprising bursts of intensity."
      },
      VELVET: {
        title: "ðŸŽ© Velvet Layer Cake",
        text: "Classic, bold, and commanding. You set the tone, take charge, and make sure everything looks as polished as it tastes."
      }
    };

    const QUESTIONS = [
      {
        q: "Itâ€™s your birthday morning. Youâ€¦",
        options: [
          { text: "Put on a cozy playlist and vibe slowly.", type: "MILKHONEY" },
          { text: "Text everyone: brunch and chaos today!!", type: "FUNFETTI" },
          { text: "Start planning whoâ€™s coming where and when.", type: "STRAWBERRY" },
          { text: "Do your own thing until someone drags you out.", type: "LAVA" },
          { text: "Run the day like an agendaâ€”youâ€™re in charge.", type: "VELVET" }
        ]
      },
      {
        q: "Your roommate shows you a new meme.",
        options: [
          { text: "Save it for later to cheer people up.", type: "MILKHONEY" },
          { text: "Spam them with 10 more immediately.", type: "FUNFETTI" },
          { text: "Use it as the perfect hype post.", type: "STRAWBERRY" },
          { text: "Laugh, nod, and keep gaming.", type: "LAVA" },
          { text: "Caption it and send it to the group chat.", type: "VELVET" }
        ]
      },
      {
        q: "Roommate life: the kitchen is a disaster.",
        options: [
          { text: "Quietly clean it so the vibes stay good.", type: "MILKHONEY" },
          { text: "Turn it into a TikTok-worthy mess.", type: "FUNFETTI" },
          { text: "Organize people to clean together.", type: "STRAWBERRY" },
          { text: "Ignore it until you need to cook.", type: "LAVA" },
          { text: "Tell everyone exactly what task to do.", type: "VELVET" }
        ]
      },
      {
        q: "Roblox game night. Whatâ€™s your style?",
        options: [
          { text: "Help your roommate when theyâ€™re lost.", type: "MILKHONEY" },
          { text: "Buy the silliest accessories.", type: "FUNFETTI" },
          { text: "Lead the squad into battle.", type: "STRAWBERRY" },
          { text: "Go solo speed-run mode.", type: "LAVA" },
          { text: "Strategize like itâ€™s a tournament.", type: "VELVET" }
        ]
      },
      {
        q: "Coffee run on campus. You grabâ€¦",
        options: [
          { text: "A cozy chai latte.", type: "MILKHONEY" },
          { text: "The most extra caramel drink.", type: "FUNFETTI" },
          { text: "A cute seasonal latte with whipped cream.", type: "STRAWBERRY" },
          { text: "Straight-up cold brew.", type: "LAVA" },
          { text: "An aesthetic matcha with perfect foam.", type: "VELVET" }
        ]
      },
      {
        q: "Playlist for the party?",
        options: [
          { text: "Comfort bops everyone can sing quietly.", type: "MILKHONEY" },
          { text: "Chaotic pop hits and mashups.", type: "FUNFETTI" },
          { text: "Songs that hype the crowd together.", type: "STRAWBERRY" },
          { text: "Chill beats until midnight.", type: "LAVA" },
          { text: "Timeless anthems that impress.", type: "VELVET" }
        ]
      },
      {
        q: "The cake knife is missing.",
        options: [
          { text: "Find a gentle workaround (plate, spoon).", type: "MILKHONEY" },
          { text: "Hand everyone forksâ€”no knife needed.", type: "FUNFETTI" },
          { text: "Lead a search and assign roles.", type: "STRAWBERRY" },
          { text: "Break it apart and keep it moving.", type: "LAVA" },
          { text: "Tell someone to run and get one.", type: "VELVET" }
        ]
      },
      {
        q: "Your ideal gift isâ€¦",
        options: [
          { text: "A handwritten note + something meaningful.", type: "MILKHONEY" },
          { text: "A funny meme collage.", type: "FUNFETTI" },
          { text: "A group surprise party planned perfectly.", type: "STRAWBERRY" },
          { text: "A new gadget or tool to play with.", type: "LAVA" },
          { text: "Something luxe and impressive.", type: "VELVET" }
        ]
      },
      {
        q: "After-party move?",
        options: [
          { text: "Text everyone to get home safe.", type: "MILKHONEY" },
          { text: "Upload chaotic pics instantly.", type: "FUNFETTI" },
          { text: "Rally people for late-night snacks.", type: "STRAWBERRY" },
          { text: "Head home quietly and recharge.", type: "LAVA" },
          { text: "Debrief the highlights with authority.", type: "VELVET" }
        ]
      },
      {
        q: "Your roommateâ€™s stressing about exams.",
        options: [
          { text: "Make them tea and reassure them.", type: "MILKHONEY" },
          { text: "Distract them with memes.", type: "FUNFETTI" },
          { text: "Create a study group plan.", type: "STRAWBERRY" },
          { text: "Suggest efficient hacks to get through.", type: "LAVA" },
          { text: "Coach them into high performance.", type: "VELVET" }
        ]
      }
    ];

    let step = 0;
    let scores = { MILKHONEY: 0, FUNFETTI: 0, STRAWBERRY: 0, LAVA: 0, VELVET: 0 };

    function shuffle(arr){
      const a = arr.slice();
      for (let i = a.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    function render(){
      const app = document.getElementById("app");
      const total = QUESTIONS.length;

      if(step >= total){
        const entries = Object.entries(scores).sort((a,b)=>b[1]-a[1]);
        const topType = entries[0][0];
        const r = RESULTS[topType];
        app.innerHTML = `
          <div class="result">
            <h2>${r.title}</h2>
            <p>${r.text}</p>
            <div class="actions">
              <button class="pill primary" onclick="restart()">Retake</button>
            </div>
          </div>`;
        return;
      }

      const q = QUESTIONS[step];
      const shuffled = shuffle(q.options);

      const pct = Math.round((step/total)*100);

      app.innerHTML = `
        <div class="progress">Question ${step+1} / ${total}</div>
        <div class="bar"><div style="width:${pct}%"></div></div>
        <div class="question">${q.q}</div>
        ${shuffled.map(op=>`<button class="btn" data-type="${op.type}">${op.text}</button>`).join("")}
      `;

      app.querySelectorAll(".btn").forEach(btn=>{
        btn.onclick=()=>{
          scores[btn.dataset.type]++;
          step++;
          render();
        }
      });
    }

    function restart(){
      step=0;
      scores = { MILKHONEY: 0, FUNFETTI: 0, STRAWBERRY: 0, LAVA: 0, VELVET: 0 };
      render();
    }

    render();
  </script>
</body>
</html>
